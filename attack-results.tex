\section{Document Objective}
The aim of this document is two-fold: (i) to demonstrate the proposed internal attackâ€™s impact on both DONet and DONet+SWAP mechanism and (ii) to propose potential ideas regarding detecting/ evicting malicious peers from the online streaming overlay.

\section{Internal Attack}
Here I briefly describe how the internal attack's works.
Assume the attacker with budget $x$  is capable of joining the overlay as early as possible and thus, assign a fraction $Hx$, where $H\in [0,1]$ of its resources as headnodes.
The remaining malicious peers $MN=x-Hx$ are assigned as neighbors to the $Hx$ malicious headnodes. 

Once a malicious peer $m\in M$ receives a video-chunk from the source or even through another malicious headnode, $m$ drops the packet. Simultaneously, $m$ keeps on sending fake buffer-maps $BM$ to other benign peers $b \in B$. 
This is the current status of the attack. Other adversarial behaviors are also possible to be included. I preferred to update you first and discuss the current status of the attack's impact before digging more into other adversarial behaviors if necessary.
We assume malicious peers do NOT churn out.	

\section{Evaluation}
The aim of this section is to highlight the attack's impact on both the DONet network as well as when SWAP is also functioning. To that end, first I introduce the main parameters used for the simulation and then discuss the results.

\subsection{Simulation parameters}
First, the main simulation parameters are provided in Table \ref{tab:SM-Parameters}.
% Hatem

\begin{table}
\centering
\caption{Simulation parameters}
\begin{tabular}{|l|l|}
\hline
\bf{Parameter} & \bf{Value} \\\hline\hline
Maximum number of neighbors $\alpha$ & 10\\
\hline
Malicious headnodes $Hx$ & ${2,5,8,10}$ \\
 \hline
Malicious neighbors $MN=x-Hx$ & ${1,3,5}$ \\
 \hline
 Overlay size $n$ & 500 \\
 \hline
Simulation time & 1000s\\
\hline
Nomination number of Hops (SWAP) $hops$ & ${1,2,3}$\\
\hline
\end{tabular}

\label{tab:SM-Parameters}
 
\end{table}

\subsection{Case studies}
For every simulation configuration, the results for both networks (DONet w/o SWAP) are provided. 
The metric used in comparing all the results is \emph{Instant Loss (IL)}: the ratio of missed chunks to the total number of chunks emitted from the source.

The attack's impact are discussed through the following two case studies:
\begin{enumerate}
 \item \emph{Impact of $Hx$} through varying $Hx={2,5,8,10}$ while fixing $MN=5$ and $hops=1$.
 \item \emph{Impact of $MN$} through varying $MN={1,3,5}$ while fixing $Hx=8$ and $hops=1$.
 
\end{enumerate}


\subsection{Results}

\subsubsection*{Impact of $Hx$}
Given that the maximum number of neighbors that the source or any other peer can have is $\alpha =10$, it's interesting to see the impact of occupying a certain fraction of the source's neighbor list.
Figure~\ref{fig:DONet} and Figure~\ref{fig:swap} depicts the impact of increasing the fraction of malicious headnodes while keeping the number of malicious neighbors to those malicious headnodes constant.

For DONet, as long as the source's neighbor list size $\alpha$ is not fully saturated with malicious peers, benign peers $b$ eventually get a stable flow of the video chunks, as depicted in Figure~\ref{subfig:Donet-hx2} through Figure~\ref{subfig:Donet-hx8}.
Nevertheless, due to the time constraints of such overlay, the fraction of lost chunks is remarkably high once the source starts to generate chunks. 
The average $IL$ averages between 49\%-80\% at times 50s-150s. 
This denotes that once the source starts sending video 

As seen from 

% In Figure~\ref{fig:Donet-hx2}, the average \texttt{MRT} in benign peers RT is measured during SM runtime, which gives an overview about the required sanitizing time given different \texttt{MI} values.

% Figure~\ref{fig:swap-hx2} evaluates the correctness of decisions taken by the initiated quorums as discussed in Section~\ref{formation} which depends mainly on the types of selected peers, i.e., the ratio of benign, malicious, poisoned and churning peers selected by $p_i$ during the quorum formation procedure. 
\begin{figure}[t!]
\centering

  \mbox{\subfloat[DONet-$Hx=2$]{\label{subfig:Donet-hx2}\includegraphics[width=7cm,height=4cm]{./Figures/donet-hx2.eps}}}
  \mbox{\subfloat[DONet-$Hx=5$]{\label{subfig:Donet-hx5}\includegraphics[width=7cm,height=4cm]{./Figures/donet-hx5.eps}}}
  \mbox{\subfloat[DONet-$Hx=8$]{\label{subfig:Donet-hx8}\includegraphics[width=7cm,height=4cm]{./Figures/donet-hx8.eps}}}
  \mbox{\subfloat[DONet-$Hx=10$]{\label{subfig:Donet-hx10}\includegraphics[width=7cm,height=4cm]{./Figures/donet-hx10.eps}}}
   
  \caption{DONet performance}

  \label{fig:DONet}
  \end{figure}
  
\begin{figure}[t!]
\centering

  \mbox{\subfloat[SWAP-$Hx=2$]{\label{subfig:swap-hx2}\includegraphics[width=7cm,height=4cm]{./Figures/swap-hx2.eps}}}
  \mbox{\subfloat[SWAP-$Hx=5$]{\label{subfig:swap-hx5}\includegraphics[width=7cm,height=4cm]{./Figures/swap-hx5.eps}}}
  \mbox{\subfloat[SWAP-$Hx=8$]{\label{subfig:swap-hx8}\includegraphics[width=7cm,height=4cm]{./Figures/swap-hx8-nei5-hops1.eps}}}
  \mbox{\subfloat[SWAP-$Hx=10$]{\label{subfig:swap-hx10}\includegraphics[width=7cm,height=4cm]{./Figures/swap-hx10.eps}}}

  
  \caption{SWAP performance}

  \label{fig:swap}
  \end{figure}
    

\subsubsection*{Impact of $MN$}

\begin{figure}[t!]
\centering

  \mbox{\subfloat[SWAP-$MN=1$]{\label{subfig:swap-MN1}\includegraphics[width=7cm,height=4cm]{./Figures/swap-hx8-nei1-hops1.eps}}}
  \mbox{\subfloat[SWAP-$Hx=3$]{\label{subfig:swap-MN3}\includegraphics[width=7cm,height=4cm]{./Figures/swap-hx8-nei3-hops1.eps}}}
  \mbox{\subfloat[SWAP-$Hx=5$]{\label{subfig:swap-MN5}\includegraphics[width=7cm,height=4cm]{./Figures/swap-hx8-nei5-hops1.eps}}}
  
  
  \caption{SWAP performance when varying $MN$}

  \label{fig:varyingMN}
  \end{figure}
  